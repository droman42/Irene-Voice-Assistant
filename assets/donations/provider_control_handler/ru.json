{
  "$schema": "../v1.0.json",
  "schema_version": "1.0",
  "donation_version": "1.0",
  "handler_domain": "provider_control",
  "description": "Provider switching and management across all components",
  "intent_name_patterns": [],
  "action_patterns": [],
  "domain_patterns": [],
  "global_parameters": [
    {
      "name": "language",
      "type": "choice",
      "required": false,
      "default_value": "ru",
      "choices": [
        "русский",
        "английский"
      ],
      "description": "Response language preference"
    }
  ],
  "method_donations": [
    {
      "method_name": "_handle_switch_provider",
      "intent_suffix": "switch",
      "description": "Switch provider for any component",
      "phrases": [
        "переключись на",
        "смени провайдер",
        "используй провайдер",
        "переключись на аудио",
        "смени llm",
        "используй asr",
        "переключи на",
        "смени компонент",
        "переключись на провайдер"
      ],
      "lemmas": [
        "переключаться",
        "менять",
        "использовать",
        "провайдер",
        "компонент",
        "аудио"
      ],
      "parameters": [
        {
          "name": "component",
          "type": "choice",
          "required": false,
          "choices": [
            "аудио",
            "распознавание",
            "голос",
            "модель"
          ],
          "description": "Component type to switch provider for",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "аудио",
                      "звук"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "модель",
                      "лл"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "распознавание",
                      "речь"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "голос",
                      "синтез"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            }
          ],
          "aliases": [
            "тип",
            "система",
            "модуль"
          ]
        },
        {
          "name": "provider",
          "type": "string",
          "required": false,
          "description": "Provider name to switch to",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LEMMA": "переключаться"
                },
                {
                  "TEXT": "на"
                },
                {
                  "IS_ALPHA": true
                }
              ],
              "label": "PROVIDER"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "IN": []
                  }
                },
                {
                  "TEXT": "to"
                },
                {
                  "IS_ALPHA": true
                }
              ],
              "label": "PROVIDER"
            }
          ],
          "aliases": [
            "название",
            "имя",
            "драйвер"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "LEMMA": "переключаться"
          },
          {
            "TEXT": "на"
          }
        ],
        [
          {
            "TEXT": {
              "IN": []
            }
          },
          {
            "TEXT": "to"
          }
        ],
        [
          {
            "LEMMA": "переключаться"
          },
          {
            "TEXT": "на"
          },
          {
            "LOWER": {
              "IN": [
                "аудио"
              ]
            }
          }
        ],
        [
          {
            "TEXT": "переключить"
          },
          {
            "TEXT": "provider"
          }
        ],
        [
          {
            "LEMMA": "менять"
          },
          {
            "LEMMA": "провайдер"
          }
        ],
        [
          {
            "TEXT": "изменить"
          },
          {
            "TEXT": "provider"
          }
        ],
        [
          {
            "LEMMA": "использовать"
          },
          {
            "LEMMA": "провайдер"
          }
        ],
        [
          {
            "TEXT": "use"
          },
          {
            "TEXT": "provider"
          }
        ]
      ],
      "slot_patterns": {
        "COMPONENT": [
          [
            {
              "LOWER": {
                "IN": [
                  "аудио",
                  "звук"
                ]
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "модель",
                  "лл"
                ]
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "распознавание",
                  "речь"
                ]
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "голос",
                  "синтез"
                ]
              }
            }
          ]
        ],
        "PROVIDER": [
          [
            {
              "LEMMA": "переключаться"
            },
            {
              "TEXT": "на"
            },
            {
              "IS_ALPHA": true
            }
          ],
          [
            {
              "TEXT": {
                "IN": []
              }
            },
            {
              "TEXT": "to"
            },
            {
              "IS_ALPHA": true
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "переключись на openai для llm",
          "parameters": {
            "component": "llm",
            "provider": "openai"
          }
        },
        {
          "text": "смени asr на whisper",
          "parameters": {
            "component": "asr",
            "provider": "whisper"
          }
        }
      ],
      "boost": 1.3
    },
    {
      "method_name": "_handle_list_providers",
      "intent_suffix": "list",
      "description": "List providers for specific component or all components",
      "phrases": [
        "покажи провайдеры",
        "список провайдеров",
        "какие провайдеры",
        "покажи аудио провайдеры",
        "список llm",
        "asr провайдеры",
        "доступные провайдеры",
        "провайдеры компонентов",
        "все провайдеры"
      ],
      "lemmas": [
        "показывать",
        "список",
        "провайдер",
        "доступный",
        "компонент",
        "все"
      ],
      "parameters": [
        {
          "name": "component",
          "type": "choice",
          "required": false,
          "choices": [
            "аудио",
            "распознавание",
            "голос",
            "модель",
            "все"
          ],
          "description": "Component to list providers for (optional - lists all if not specified)",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "аудио",
                      "звук"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "модель",
                      "лл"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "распознавание",
                      "речь"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "голос",
                      "синтез"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "все",
                      "всех"
                    ]
                  }
                }
              ],
              "label": "COMPONENT"
            }
          ],
          "aliases": [
            "тип",
            "система",
            "модуль"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "LEMMA": "показывать"
          },
          {
            "LEMMA": "провайдер"
          }
        ],
        [
          {
            "LEMMA": "список"
          },
          {
            "LEMMA": "провайдер"
          }
        ],
        [
          {},
          {
            "TEXT": "providers"
          }
        ],
        [
          {
            "TEXT": "list"
          },
          {
            "TEXT": "providers"
          }
        ],
        [
          {
            "LEMMA": "показывать"
          },
          {
            "LOWER": {
              "IN": [
                "аудио"
              ]
            }
          },
          {
            "LEMMA": "провайдер"
          }
        ],
        [
          {},
          {
            "TEXT": "providers"
          }
        ],
        [
          {
            "LEMMA": "доступный"
          },
          {
            "LEMMA": "провайдер"
          }
        ],
        [
          {
            "TEXT": "available"
          },
          {
            "TEXT": "providers"
          }
        ],
        [
          {
            "LEMMA": "все"
          },
          {
            "LEMMA": "провайдер"
          }
        ],
        [
          {
            "TEXT": "all"
          },
          {
            "TEXT": "providers"
          }
        ]
      ],
      "slot_patterns": {
        "COMPONENT": [
          [
            {
              "LOWER": {
                "IN": [
                  "аудио",
                  "звук"
                ]
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "модель",
                  "лл"
                ]
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "распознавание",
                  "речь"
                ]
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "голос",
                  "синтез"
                ]
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "все",
                  "всех"
                ]
              }
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "покажи провайдеры",
          "parameters": {}
        },
        {
          "text": "список аудио провайдеров",
          "parameters": {
            "component": "аудио"
          }
        },
        {
          "text": "доступные tts провайдеры",
          "parameters": {
            "component": "tts"
          }
        }
      ],
      "boost": 1.2
    }
  ],
  "negative_patterns": [
    [
      {
        "LEMMA": {
          "IN": [
            "нет",
            "не"
          ]
        }
      },
      {
        "LEMMA": {
          "IN": [
            "переключаться",
            "менять",
            "провайдер"
          ]
        }
      }
    ],
    [
      {
        "TEXT": {
          "REGEX": ".*"
        }
      },
      {
        "TEXT": {
          "REGEX": ".*"
        }
      }
    ]
  ],
  "language": "ru"
}