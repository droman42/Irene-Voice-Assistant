{
  "$schema": "../v1.0.json",
  "schema_version": "1.0",
  "donation_version": "1.0",
  "handler_domain": "conversation",
  "description": "General conversation and reference queries with context management",
  "intent_name_patterns": [
    "chat.start",
    "chat.continue",
    "chat.reference",
    "chat.end"
  ],
  "action_patterns": [
    "start",
    "end",
    "clear",
    "reference"
  ],
  "domain_patterns": [
    "conversation"
  ],
  "fallback_conditions": [
    {
      "domain": "general",
      "confidence_threshold": 0.8
    }
  ],
  "global_parameters": [
    {
      "name": "session_id",
      "type": "string",
      "required": true,
      "description": "Conversation session identifier"
    }
  ],
  "method_donations": [
    {
      "method_name": "_handle_start_conversation",
      "intent_suffix": "start",
      "description": "Start a new conversation or chat session",
      "phrases": [
        "let's talk",
        "let's chat",
        "let's have a conversation",
        "I want to chat with you"
      ],
      "lemmas": [],
      "parameters": [
        {
          "name": "topic",
          "type": "string",
          "required": false,
          "description": "Conversation topic",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "about"
                    ]
                  }
                },
                {
                  "IS_ALPHA": true
                }
              ],
              "label": "TOPIC"
            }
          ],
          "aliases": [
            "subject"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "TEXT": "let's"
          },
          {
            "TEXT": {
              "REGEX": "talk|chat"
            }
          }
        ],
        [
          {
            "TEXT": "I"
          },
          {
            "TEXT": "want"
          },
          {
            "TEXT": "to"
          },
          {
            "TEXT": {
              "REGEX": "chat|talk"
            }
          }
        ]
      ],
      "slot_patterns": {
        "TOPIC": [
          [
            {
              "LOWER": {
                "IN": []
              }
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ],
          [
            {
              "LOWER": "about"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "let's chat",
          "parameters": {}
        },
        {
          "text": "let's talk about music",
          "parameters": {
            "topic": "music"
          }
        }
      ],
      "boost": 1.1
    },
    {
      "method_name": "_handle_end_conversation",
      "intent_suffix": "end",
      "description": "End the current conversation",
      "phrases": [
        "stop talking",
        "end conversation",
        "that's enough"
      ],
      "lemmas": [],
      "parameters": [],
      "token_patterns": [
        [
          {
            "TEXT": {
              "REGEX": "stop|end"
            }
          },
          {
            "TEXT": {
              "REGEX": "talking|conversation"
            }
          }
        ]
      ],
      "examples": [
        {
          "text": "stop talking",
          "parameters": {}
        }
      ],
      "boost": 1.0
    },
    {
      "method_name": "_handle_clear_conversation",
      "intent_suffix": "clear",
      "description": "Clear conversation history",
      "phrases": [
        "clear history",
        "reset context",
        "forget everything"
      ],
      "lemmas": [],
      "parameters": [],
      "token_patterns": [
        [
          {
            "TEXT": {
              "REGEX": "clear|reset"
            }
          },
          {
            "TEXT": {
              "REGEX": "history|context"
            }
          }
        ]
      ],
      "examples": [
        {
          "text": "clear history",
          "parameters": {}
        }
      ],
      "boost": 1.0
    },
    {
      "method_name": "_handle_reference_query",
      "intent_suffix": "reference",
      "description": "Handle reference questions and information requests",
      "phrases": [
        "what is",
        "who is",
        "tell me about",
        "explain this to me"
      ],
      "lemmas": [],
      "parameters": [
        {
          "name": "query_topic",
          "type": "string",
          "required": true,
          "description": "Topic or subject to explain",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "IS_ALPHA": true
                }
              ],
              "label": "QUERY_TOPIC"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "what|who"
                  }
                },
                {
                  "TEXT": "is"
                },
                {
                  "IS_ALPHA": true
                }
              ],
              "label": "QUERY_TOPIC"
            }
          ],
          "aliases": [
            "subject"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "TEXT": {
              "REGEX": "what|who"
            }
          },
          {
            "TEXT": "is"
          }
        ],
        [
          {
            "TEXT": "tell"
          },
          {
            "TEXT": "me"
          },
          {
            "TEXT": "about"
          }
        ]
      ],
      "slot_patterns": {
        "QUERY_TOPIC": [
          [
            {
              "LEMMA": {
                "IN": []
              }
            },
            {
              "LEMMA": "such"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ],
          [
            {
              "TEXT": {
                "REGEX": "what|who"
              }
            },
            {
              "TEXT": "is"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ],
          [
            {
              "LEMMA": "tell"
            },
            {
              "LEMMA": "about"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "what is artificial intelligence",
          "parameters": {
            "query_topic": "artificial intelligence"
          }
        }
      ],
      "boost": 1.2
    },
    {
      "method_name": "_handle_continue_conversation",
      "intent_suffix": "general",
      "description": "Handle general conversation continuation and fallback",
      "phrases": [
        "continue",
        "let's continue",
        "what else",
        "go on"
      ],
      "lemmas": [],
      "parameters": [
        {
          "name": "context_reference",
          "type": "string",
          "required": false,
          "description": "Reference to previous conversation context",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "that",
                      "this"
                    ]
                  }
                }
              ],
              "label": "CONTEXT_REF"
            }
          ],
          "aliases": []
        }
      ],
      "token_patterns": [
        [
          {
            "TEXT": {
              "REGEX": "continue|go"
            }
          },
          {
            "TEXT": {
              "REGEX": "on|ahead"
            }
          }
        ],
        [
          {
            "TEXT": "what"
          },
          {
            "TEXT": "else"
          }
        ]
      ],
      "examples": [
        {
          "text": "continue",
          "parameters": {}
        }
      ],
      "boost": 0.8
    }
  ],
  "negative_patterns": [
    [
      {
        "LEMMA": {
          "IN": []
        }
      },
      {
        "LEMMA": {
          "IN": []
        }
      }
    ],
    [
      {
        "TEXT": {
          "REGEX": "no|not|stop"
        }
      },
      {
        "TEXT": {
          "REGEX": "talking|conversation"
        }
      }
    ]
  ],
  "language": "en"
}