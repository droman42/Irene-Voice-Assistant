{
  "$schema": "../v1.0.json",
  "schema_version": "1.0",
  "donation_version": "1.0",
  "handler_domain": "train_schedule",
  "description": "Информация о расписании поездов и планирование маршрутов",
  "global_parameters": [
    {
      "name": "language",
      "type": "choice",
      "required": false,
      "default_value": "ru",
      "choices": [
        "русский",
        "английский"
      ],
      "description": "Предпочтение языка ответа"
    }
  ],
  "intent_name_patterns": [],
  "action_patterns": [],
  "domain_action_patterns": [
    {
      "domain": "transport",
      "action": "train_schedule"
    },
    {
      "domain": "transport",
      "action": "get_trains"
    }
  ],
  "train_keywords": [
    "электричка",
    "электрички",
    "поезд",
    "ближайший поезд",
    "расписание поездов",
    "расписание электричек"
  ],
  "method_donations": [
    {
      "method_name": "handle_train_query",
      "intent_suffix": "query",
      "description": "Обработка запросов о расписании поездов и маршрутах",
      "phrases": [
        "расписание поездов",
        "когда поезд",
        "поезда до",
        "электричка до",
        "электричка",
        "электрички",
        "поезд",
        "ближайший поезд",
        "расписание электричек"
      ],
      "lemmas": [
        "расписание",
        "поезд",
        "электричка",
        "когда",
        "до"
      ],
      "parameters": [
        {
          "name": "from_station",
          "type": "string",
          "required": false,
          "description": "Станция отправления",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "от",
                      "из"
                    ]
                  }
                },
                {
                  "IS_ALPHA": true
                }
              ],
              "label": "FROM_STATION"
            }
          ],
          "aliases": [
            "откуда"
          ]
        },
        {
          "name": "to_station",
          "type": "string",
          "required": false,
          "description": "Станция назначения",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "до",
                      "в"
                    ]
                  }
                },
                {
                  "IS_ALPHA": true
                }
              ],
              "label": "TO_STATION"
            }
          ],
          "aliases": [
            "куда"
          ]
        },
        {
          "name": "time",
          "type": "string",
          "required": false,
          "description": "Время или дата отправления",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": ".*"
                  }
                }
              ],
              "label": "время"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "утром",
                      "днем",
                      "вечером"
                    ]
                  }
                }
              ],
              "label": "TIME_PERIOD"
            }
          ],
          "aliases": [
            "время",
            "когда"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "LEMMA": "расписание"
          },
          {
            "LEMMA": "поезд"
          }
        ],
        [
          {
            "LEMMA": "когда"
          },
          {
            "LEMMA": "поезд"
          }
        ],
        [
          {
            "LEMMA": "поезд"
          },
          {
            "LEMMA": "до"
          }
        ],
        [
          {
            "TEXT": "поезд"
          },
          {}
        ],
        [
          {
            "TEXT": "when"
          },
          {
            "TEXT": "is"
          },
          {
            "TEXT": "поезд"
          }
        ]
      ],
      "slot_patterns": {
        "FROM_STATION": [
          [
            {
              "LOWER": {
                "IN": [
                  "от",
                  "из"
                ]
              }
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ],
          [
            {
              "LOWER": "от"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ],
        "TO_STATION": [
          [
            {
              "LOWER": {
                "IN": [
                  "до",
                  "в"
                ]
              }
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ],
          [
            {
              "LOWER": "to"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ],
        "TIME": [
          [
            {
              "TEXT": {
                "REGEX": ".*"
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "утром",
                  "днем",
                  "вечером"
                ]
              }
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "расписание поездов",
          "parameters": {}
        },
        {
          "text": "поезда до Москвы",
          "parameters": {
            "to_station": "Москвы"
          }
        },
        {
          "text": "когда поезд от Санкт-Петербурга до Москвы",
          "parameters": {
            "from_station": "Санкт-Петербурга",
            "to_station": "Москвы"
          }
        }
      ],
      "boost": 1.2
    }
  ],
  "negative_patterns": [
    [
      {
        "LEMMA": {
          "IN": [
            "нет",
            "не"
          ]
        }
      },
      {
        "LEMMA": "поезд"
      }
    ],
    [
      {
        "TEXT": {
          "REGEX": ".*"
        }
      },
      {
        "TEXT": "поезд"
      }
    ]
  ],
  "language": "ru"
}