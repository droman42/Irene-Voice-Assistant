{
  "$schema": "../v1.0.json",
  "schema_version": "1.0",
  "donation_version": "1.0",
  "handler_domain": "translation",
  "description": "Text translation commands via LLM",
  "intent_name_patterns": [],
  "action_patterns": [],
  "domain_patterns": [],
  "global_parameters": [
    {
      "name": "language",
      "type": "choice",
      "required": false,
      "default_value": "ru",
      "choices": [
        "русский",
        "английский"
      ],
      "description": "Response language preference"
    }
  ],
  "method_donations": [
    {
      "method_name": "_handle_translate_text",
      "intent_suffix": "translate",
      "description": "Translate text using command parsing",
      "phrases": [
        "переведи",
        "переводи",
        "перевод",
        "переведи текст",
        "сделай перевод",
        "переведи на",
        "переводить",
        "конвертируй",
        "переложи на",
        "перефразируй на",
        "измени язык"
      ],
      "lemmas": [
        "переводить",
        "перевод",
        "конвертировать",
        "переносить",
        "изменять",
        "язык"
      ],
      "parameters": [
        {
          "name": "text",
          "type": "string",
          "required": false,
          "description": "Text to translate (extracted from command)",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LEMMA": "переводить"
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                }
              ],
              "label": "TEXT"
            },
            {
              "pattern": [
                {},
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                }
              ],
              "label": "TEXT"
            }
          ],
          "aliases": [
            "текст",
            "фраза",
            "слово"
          ]
        },
        {
          "name": "target_language",
          "type": "choice",
          "required": false,
          "default_value": "английский",
          "choices": [
            "русский",
            "английский"
          ],
          "description": "Target language for translation",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "TEXT": "на"
                },
                {
                  "LOWER": {
                    "IN": [
                      "русский",
                      "английский",
                      "испанский",
                      "французский",
                      "немецкий",
                      "китайский"
                    ]
                  }
                }
              ],
              "label": "TARGET_LANGUAGE"
            },
            {
              "pattern": [
                {
                  "TEXT": "to"
                }
              ],
              "label": "TARGET_LANGUAGE"
            }
          ],
          "aliases": [
            "язык",
            "на язык"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "LEMMA": "переводить"
          }
        ],
        [
          {}
        ],
        [
          {
            "LEMMA": "перевод"
          }
        ],
        [
          {
            "TEXT": "translation"
          }
        ],
        [
          {
            "LEMMA": "переводить"
          },
          {
            "IS_ALPHA": true,
            "OP": "+"
          }
        ],
        [
          {},
          {
            "IS_ALPHA": true,
            "OP": "+"
          }
        ]
      ],
      "slot_patterns": {
        "TEXT": [
          [
            {
              "LEMMA": "переводить"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ],
          [
            {},
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ],
        "TARGET_LANGUAGE": [
          [
            {
              "TEXT": "на"
            },
            {
              "LOWER": {
                "IN": [
                  "русский",
                  "английский",
                  "испанский",
                  "французский",
                  "немецкий",
                  "китайский"
                ]
              }
            }
          ],
          [
            {
              "TEXT": "to"
            },
            {
              "LOWER": {
                "IN": []
              }
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "переведи hello world",
          "parameters": {
            "text": "hello world"
          }
        },
        {
          "text": "translate привет мир",
          "parameters": {
            "text": "привет мир"
          }
        },
        {
          "text": "переведи на английский",
          "parameters": {
            "target_language": "английский"
          }
        }
      ],
      "boost": 1.3
    },
    {
      "method_name": "_handle_translate_specific",
      "intent_suffix": "specific",
      "description": "Translate specific text with extracted entities",
      "phrases": [
        "переведи фразу",
        "переведи слово",
        "переведи текст на",
        "переведи 'текст' на",
        "конвертируй в",
        "сделай перевод на",
        "переложи на язык"
      ],
      "lemmas": [
        "переводить",
        "фраза",
        "слово",
        "текст",
        "конвертировать"
      ],
      "parameters": [
        {
          "name": "text",
          "type": "string",
          "required": true,
          "description": "Specific text to translate",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "TEXT": "'"
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                },
                {
                  "TEXT": "'"
                }
              ],
              "label": "TEXT"
            },
            {
              "pattern": [
                {
                  "TEXT": "\""
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                },
                {
                  "TEXT": "\""
                }
              ],
              "label": "TEXT"
            },
            {
              "pattern": [
                {
                  "LEMMA": {
                    "IN": [
                      "фраза",
                      "слово",
                      "текст"
                    ]
                  }
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                }
              ],
              "label": "TEXT"
            }
          ],
          "aliases": [
            "фраза",
            "слово",
            "предложение"
          ]
        },
        {
          "name": "target_language",
          "type": "choice",
          "required": true,
          "choices": [
            "русский",
            "английский"
          ],
          "description": "Target language for specific translation",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "TEXT": "на"
                },
                {
                  "LOWER": {
                    "IN": [
                      "русский",
                      "английский",
                      "испанский",
                      "французский",
                      "немецкий",
                      "китайский"
                    ]
                  }
                }
              ],
              "label": "TARGET_LANGUAGE"
            },
            {
              "pattern": [
                {
                  "TEXT": "to"
                }
              ],
              "label": "TARGET_LANGUAGE"
            }
          ],
          "aliases": [
            "язык",
            "на язык",
            "в язык"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "LEMMA": "переводить"
          },
          {
            "LEMMA": {
              "IN": [
                "фраза",
                "слово",
                "текст"
              ]
            }
          },
          {
            "TEXT": "на"
          }
        ],
        [
          {},
          {
            "TEXT": {
              "IN": []
            }
          },
          {
            "TEXT": "to"
          }
        ],
        [
          {
            "LEMMA": "переводить"
          },
          {
            "TEXT": "'"
          },
          {
            "IS_ALPHA": true,
            "OP": "+"
          },
          {
            "TEXT": "'"
          }
        ],
        [
          {},
          {
            "TEXT": "'"
          },
          {
            "IS_ALPHA": true,
            "OP": "+"
          },
          {
            "TEXT": "'"
          }
        ],
        [
          {
            "LEMMA": "конвертировать"
          },
          {
            "TEXT": "в"
          }
        ]
      ],
      "slot_patterns": {
        "TEXT": [
          [
            {
              "TEXT": "'"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            },
            {
              "TEXT": "'"
            }
          ],
          [
            {
              "TEXT": "\""
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            },
            {
              "TEXT": "\""
            }
          ],
          [
            {
              "LEMMA": {
                "IN": [
                  "фраза",
                  "слово",
                  "текст"
                ]
              }
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ],
        "TARGET_LANGUAGE": [
          [
            {
              "TEXT": "на"
            },
            {
              "LOWER": {
                "IN": [
                  "русский",
                  "английский",
                  "испанский",
                  "французский",
                  "немецкий",
                  "китайский"
                ]
              }
            }
          ],
          [
            {
              "TEXT": "to"
            },
            {
              "LOWER": {
                "IN": []
              }
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "переведи 'hello world' на русский",
          "parameters": {
            "text": "hello world",
            "target_language": "русский"
          }
        },
        {
          "text": "translate 'привет мир' to english",
          "parameters": {
            "text": "привет мир",
            "target_language": "english"
          }
        },
        {
          "text": "переведи фразу good morning на русский",
          "parameters": {
            "text": "good morning",
            "target_language": "русский"
          }
        },
        {
          "text": "translate text спасибо to english",
          "parameters": {
            "text": "спасибо",
            "target_language": "english"
          }
        }
      ],
      "boost": 1.4
    }
  ],
  "negative_patterns": [
    [
      {
        "LEMMA": {
          "IN": [
            "нет",
            "не"
          ]
        }
      },
      {
        "LEMMA": {
          "IN": [
            "переводить",
            "перевод"
          ]
        }
      }
    ],
    [
      {
        "TEXT": {
          "REGEX": ".*"
        }
      },
      {
        "TEXT": {
          "REGEX": ".*"
        }
      }
    ]
  ],
  "language": "ru"
}