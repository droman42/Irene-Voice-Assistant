{
  "$schema": "../v1.0.json",
  "schema_version": "1.0",
  "donation_version": "1.0",
  "handler_domain": "таймер",
  "description": "Функциональность таймера с поддержкой длительности и сообщений",
  "global_parameters": [
    {
      "name": "retain",
      "type": "boolean",
      "required": false,
      "default_value": false,
      "description": "Сохранять ли состояние между сессиями"
    }
  ],
  "intent_name_patterns": [
    "timer.set",
    "timer.cancel",
    "timer.stop",
    "timer.pause",
    "timer.resume",
    "timer.list",
    "timer.status"
  ],
  "action_patterns": [
    "set",
    "cancel",
    "stop",
    "pause",
    "resume",
    "list",
    "status",
    "create",
    "remove",
    "start"
  ],
  "stop_command_patterns": [
    "стоп таймер",
    "останови таймер",
    "прекрати таймер",
    "выключи таймер",
    "отмени таймер",
    "убери таймер",
    "стоп будильник",
    "останови будильник"
  ],
  "action_domain_priority": 70,
  "method_donations": [
    {
      "method_name": "_handle_set_timer",
      "intent_suffix": "set",
      "description": "Установить таймер с длительностью и опциональным сообщением",
      "phrases": [
        "поставь таймер",
        "установи таймер",
        "засеки время",
        "заведи будильник",
        "установи напоминание",
        "напомни через",
        "разбуди через",
        "таймер на"
      ],
      "lemmas": [
        "поставить",
        "установить",
        "засечь",
        "завести",
        "таймер",
        "будильник",
        "время",
        "напоминание"
      ],
      "parameters": [
        {
          "name": "duration",
          "type": "integer",
          "required": true,
          "description": "Продолжительность таймера в числах",
          "min_value": 1,
          "max_value": 86400,
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LIKE_NUM": true
                }
              ],
              "label": "DURATION_VALUE"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": ".*"
                  }
                }
              ],
              "label": "DURATION_VALUE"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "(\\d+)\\s*(секунд|сек)"
                  }
                }
              ],
              "label": "DURATION_SECONDS"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "(\\d+)\\s*(минут|мин)"
                  }
                }
              ],
              "label": "DURATION_MINUTES"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "(\\d+)\\s*(час|часа|часов)"
                  }
                }
              ],
              "label": "DURATION_HOURS"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "на\\s+(\\d+)\\s*(секунд|сек|минут|мин|час|часа|часов)"
                  }
                }
              ],
              "label": "DURATION_WITH_PREFIX"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "через\\s+(\\d+)\\s*(секунд|сек|минут|мин|час|часа|часов)"
                  }
                }
              ],
              "label": "DURATION_WITH_THROUGH"
            }
          ],
          "aliases": [
            "время",
            "длительность",
            "на"
          ]
        },
        {
          "name": "unit",
          "type": "choice",
          "required": false,
          "default_value": "minutes",
          "choices": [
            "seconds",
            "minutes",
            "hours"
          ],
          "description": "Единица времени для продолжительности",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LEMMA": {
                    "IN": [
                      "секунда",
                      "минута",
                      "час"
                    ]
                  }
                }
              ],
              "label": "TIME_UNIT"
            },
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "сек",
                      "мин"
                    ]
                  }
                }
              ],
              "label": "TIME_UNIT"
            }
          ],
          "aliases": [
            "единица",
            "время"
          ]
        },
        {
          "name": "message",
          "type": "string",
          "required": false,
          "default_value": "Таймер завершён!",
          "description": "Пользовательское сообщение при завершении таймера",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LOWER": {
                    "IN": [
                      "сообщение",
                      "напомни",
                      "скажи"
                    ]
                  }
                },
                {
                  "IS_SENT_START": false
                }
              ],
              "label": "TIMER_MESSAGE"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "сообщение[:\\s]+(.*)"
                  }
                }
              ],
              "label": "TIMER_MESSAGE_COLON"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "напомни[:\\s]+(.*)"
                  }
                }
              ],
              "label": "TIMER_MESSAGE_REMIND"
            },
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": "скажи[:\\s]+(.*)"
                  }
                }
              ],
              "label": "TIMER_MESSAGE_SAY"
            }
          ],
          "aliases": [
            "текст",
            "напоминание"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "POS": "VERB",
            "LEMMA": {
              "IN": [
                "поставить",
                "установить",
                "завести"
              ]
            }
          },
          {
            "LEMMA": {
              "IN": [
                "таймер",
                "будильник",
                "напоминание"
              ]
            }
          }
        ],
        [
          {
            "LEMMA": "таймер"
          },
          {
            "LOWER": "на"
          },
          {
            "LIKE_NUM": true
          }
        ],
        [
          {
            "TEXT": {
              "REGEX": ".*"
            }
          },
          {
            "TEXT": {
              "REGEX": ".*"
            }
          }
        ]
      ],
      "slot_patterns": {
        "DURATION_VALUE": [
          [
            {
              "LIKE_NUM": true
            },
            {
              "LEMMA": {
                "IN": [
                  "минута",
                  "секунда",
                  "час"
                ]
              }
            }
          ],
          [
            {
              "TEXT": {
                "REGEX": ".*"
              }
            },
            {
              "LOWER": {
                "IN": [
                  "мин",
                  "сек"
                ]
              }
            }
          ]
        ],
        "TIME_UNIT": [
          [
            {
              "LEMMA": {
                "IN": [
                  "секунда",
                  "минута",
                  "час"
                ]
              }
            }
          ],
          [
            {
              "LOWER": {
                "IN": [
                  "сек",
                  "мин"
                ]
              }
            }
          ]
        ],
        "TIMER_MESSAGE": [
          [
            {
              "LOWER": "сообщение"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ],
          [
            {
              "LOWER": "напомни"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "поставь таймер на 5 минут",
          "parameters": {
            "duration": 5,
            "unit": "minutes"
          }
        },
        {
          "text": "заведи будильник на 2 часа с сообщением проснись",
          "parameters": {
            "duration": 2,
            "unit": "hours",
            "message": "проснись"
          }
        },
        {
          "text": "засеки 30 сек",
          "parameters": {
            "duration": 30,
            "unit": "seconds"
          }
        }
      ],
      "boost": 1.2
    },
    {
      "method_name": "_handle_cancel_timer",
      "intent_suffix": "cancel",
      "description": "Отменить существующий таймер",
      "phrases": [
        "отмени таймер",
        "убери таймер",
        "стоп таймер",
        "останови таймер",
        "удали таймер"
      ],
      "lemmas": [
        "отменить",
        "убрать",
        "остановить",
        "удалить",
        "стоп",
        "таймер",
        "будильник"
      ],
      "parameters": [
        {
          "name": "timer_id",
          "type": "string",
          "required": false,
          "description": "Конкретный ID таймера для отмены",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "TEXT": {
                    "REGEX": ".*"
                  }
                }
              ],
              "label": "TIMER_ID"
            }
          ],
          "aliases": [
            "номер"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "LEMMA": {
              "IN": [
                "отменить",
                "убрать",
                "остановить"
              ]
            }
          },
          {
            "LEMMA": "таймер"
          }
        ],
        [
          {
            "TEXT": {
              "REGEX": ".*"
            }
          },
          {
            "TEXT": "таймер"
          }
        ]
      ],
      "examples": [
        {
          "text": "отмени таймер",
          "parameters": {}
        },
        {
          "text": "стоп таймер",
          "parameters": {}
        }
      ],
      "boost": 1.1
    },
    {
      "method_name": "_handle_stop_timer",
      "intent_suffix": "stop",
      "description": "Остановить все активные таймеры",
      "phrases": [
        "стоп таймер",
        "останови таймер",
        "останови все таймеры",
        "прекрати таймер",
        "стоп"
      ],
      "lemmas": [
        "стоп",
        "останавливать",
        "прекращать",
        "таймер"
      ],
      "parameters": [],
      "token_patterns": [
        [
          {
            "LEMMA": {
              "IN": [
                "стоп",
                "останавливать",
                "прекращать"
              ]
            }
          },
          {
            "LEMMA": "таймер"
          }
        ],
        [
          {
            "LEMMA": "стоп"
          }
        ]
      ],
      "examples": [
        {
          "text": "стоп таймер",
          "parameters": {}
        }
      ],
      "boost": 1.2
    },
    {
      "method_name": "_handle_pause_timer",
      "intent_suffix": "pause",
      "description": "Приостановить активные таймеры",
      "phrases": [
        "пауза таймер",
        "приостанови таймер",
        "приостанови все таймеры",
        "задержи таймер",
        "пауза"
      ],
      "lemmas": [
        "пауза",
        "приостанавливать",
        "задерживать",
        "таймер"
      ],
      "parameters": [],
      "token_patterns": [
        [
          {
            "LEMMA": {
              "IN": [
                "пауза",
                "приостанавливать",
                "задерживать"
              ]
            }
          },
          {
            "LEMMA": "таймер"
          }
        ],
        [
          {
            "LEMMA": "пауза"
          }
        ]
      ],
      "examples": [
        {
          "text": "пауза таймер",
          "parameters": {}
        }
      ],
      "boost": 1.1
    },
    {
      "method_name": "_handle_resume_timer",
      "intent_suffix": "resume",
      "description": "Возобновить приостановленные таймеры",
      "phrases": [
        "продолжи таймер",
        "возобнови таймер",
        "возобнови все таймеры",
        "запусти снова таймер",
        "продолжи",
        "возобнови"
      ],
      "lemmas": [
        "продолжать",
        "возобновлять",
        "запускать",
        "таймер"
      ],
      "parameters": [],
      "token_patterns": [
        [
          {
            "LEMMA": {
              "IN": [
                "продолжать",
                "возобновлять"
              ]
            }
          },
          {
            "LEMMA": "таймер"
          }
        ],
        [
          {
            "LEMMA": {
              "IN": [
                "продолжать",
                "возобновлять"
              ]
            }
          }
        ]
      ],
      "examples": [
        {
          "text": "продолжи таймер",
          "parameters": {}
        }
      ],
      "boost": 1.1
    },
    {
      "method_name": "_handle_list_timers",
      "intent_suffix": "list",
      "description": "Показать все активные таймеры",
      "phrases": [
        "покажи таймеры",
        "список таймеров",
        "мои таймеры",
        "активные таймеры"
      ],
      "lemmas": [
        "показать",
        "список",
        "таймер",
        "активный"
      ],
      "parameters": [],
      "token_patterns": [
        [
          {
            "LEMMA": {
              "IN": [
                "показать",
                "список"
              ]
            }
          },
          {
            "LEMMA": "таймер"
          }
        ],
        [
          {
            "TEXT": {
              "REGEX": ".*"
            }
          },
          {
            "TEXT": "таймер"
          }
        ],
        [
          {
            "LEMMA": "мой"
          },
          {
            "LEMMA": "таймер"
          }
        ]
      ],
      "examples": [
        {
          "text": "покажи таймеры",
          "parameters": {}
        },
        {
          "text": "мои таймеры",
          "parameters": {}
        }
      ],
      "boost": 1.0
    },
    {
      "method_name": "_handle_timer_status",
      "intent_suffix": "status",
      "description": "Проверить статус таймеров",
      "phrases": [
        "статус таймеров",
        "состояние таймеров",
        "как дела с таймерами"
      ],
      "lemmas": [
        "статус",
        "состояние",
        "таймер"
      ],
      "parameters": [],
      "token_patterns": [
        [
          {
            "LEMMA": {
              "IN": [
                "статус",
                "состояние"
              ]
            }
          },
          {
            "LEMMA": "таймер"
          }
        ],
        [
          {
            "TEXT": "таймер"
          },
          {
            "TEXT": {
              "REGEX": ".*"
            }
          }
        ]
      ],
      "examples": [
        {
          "text": "статус таймеров",
          "parameters": {}
        }
      ],
      "boost": 1.0
    }
  ],
  "negative_patterns": [
    [
      {
        "LEMMA": {
          "IN": [
            "нет",
            "не",
            "без"
          ]
        }
      },
      {
        "LEMMA": "таймер"
      }
    ],
    [
      {
        "TEXT": {
          "REGEX": ".*"
        }
      },
      {
        "TEXT": "таймер"
      }
    ]
  ],
  "additional_recognition_patterns": [
    "поставь таймер|установи таймер|таймер на",
    "напомни через|разбуди через|сигнал через",
    "засеки время|отсчитай время",
    "отмени таймер|убери таймер|стоп таймер",
    "покажи таймеры|список таймеров|мои таймеры",
    "статус таймера|сколько осталось|время таймера",
    "\\d+\\s*(секунд|сек|минут|мин|час|часа|часов)",
    "на\\s+\\d+|через\\s+\\d+"
  ],
  "language": "ru"
}