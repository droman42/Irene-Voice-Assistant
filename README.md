# –ì–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ò—Ä–∏–Ω–∞ v13.0.0 üöÄ

# –ü–†–û–ï–ö–¢ –ù–ê–•–û–î–ò–¢–°–Ø –í –†–ê–ó–†–ê–ë–û–¢–ö–ï!!! (—Å–º. [TODO](docs/TODO.md))
# –≠–¢–û –°–û–û–ë–©–ï–ù–ò–ï –ë–£–î–ï–¢ –£–î–ê–õ–ï–ù–û –ü–û–°–õ–ï –ó–ê–í–ï–†–®–ï–ù–ò–Ø –í–°–ï–• TODO
# –ü–û–ö–ê –ß–¢–û –ú–û–ñ–ù–û –ü–†–û–°–¢–û –ü–û–ó–ù–ê–ö–û–ú–ò–¢–¨–°–Ø –° –ê–†–•–ò–¢–ï–ö–¢–£–†–û–ô

–ò—Ä–∏–Ω–∞ - —Ä—É—Å—Å–∫–∏–π –≥–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ—Ñ—Ñ–ª–∞–π–Ω —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. –í–µ—Ä—Å–∏—è 14.0.0 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É —Å —Å–∏—Å—Ç–µ–º–æ–π –∏–Ω—Ç–µ–Ω—Ç–æ–≤, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π wake word detection.

[–°—Ç–∞—Ç—å—è –Ω–∞ –•–∞–±—Ä–µ](https://habr.com/ru/post/595855/) | [–í—Ç–æ—Ä–∞—è —Å—Ç–∞—Ç—å—è –Ω–∞ –•–∞–±—Ä–µ](https://habr.com/ru/post/660715/) | [–¢—Ä–µ—Ç—å—è —Å—Ç–∞—Ç—å—è –Ω–∞ –•–∞–±—Ä–µ](https://habr.com/ru/articles/725066/) | [–ì—Ä—É–ø–ø–∞ –≤ –¢–µ–ª–µ–≥—Ä–∞–º](https://t.me/irene_va)

## –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ—Ñ—Ñ–ª–∞–π–Ω –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

**–ò—Ä–∏–Ω–∞** ‚Äî —Ä—É—Å—Å–∫–∏–π –≥–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ—Ñ—Ñ–ª–∞–π–Ω —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π v13.0.0. –°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏, –ø–æ–Ω–∏–º–∞–Ω–∏—è –∏–Ω—Ç–µ–Ω—Ç–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

### üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- **–û—Ñ—Ñ–ª–∞–π–Ω-–ø–µ—Ä–≤—ã–π –ø–æ–¥—Ö–æ–¥**: –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- **–°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–Ω—Ç–æ–≤**: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ NLU
- **Voice Trigger System**: Wake word detection —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OpenWakeWord –∏ microWakeWord
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: Entry-points –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –≥—Ä–∞—Ü–∏–æ–∑–Ω–æ–π –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–µ–π
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: TOML-—Ñ–∞–π–ª—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –ü–æ–ª–Ω—ã–π pipeline –æ–±—Ä–∞–±–æ—Ç–∫–∏ v13.0.0:
```
Audio ‚Üí Voice Trigger ‚Üí ASR ‚Üí Text Processing ‚Üí Intent Recognition ‚Üí Intent Execution ‚Üí TTS ‚Üí Audio Output
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û–±—â–∞—è —Å—Ö–µ–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã v13.0.0

```mermaid
graph TB
    subgraph EntryPoints["Entry Points"]
        CLI["CLI Runner"]
        WebAPI["WebAPI Runner"]
        Vosk["Vosk Runner"]
        Settings["Settings Runner"]
    end
    
    subgraph CoreSystem["Core System"]
        AsyncCore["AsyncVACore v13"]
        Context["ContextManager"]
        Commands["CommandProcessor"]
        Timers["AsyncTimerManager"]
    end
    
    subgraph ComponentSystem["Component System"]
        CompMgr["ComponentManager"]
        VoiceTrigger["VoiceTriggerComponent"]
        ASRComp["ASRComponent"]
        TextProc["TextProcessorComponent"]
        NLUComp["NLUComponent"]
        TTSComp["TTSComponent"]
        AudioComp["AudioComponent"]
        LLMComp["LLMComponent"]
    end
    
    subgraph IntentSys["Intent System"]
        IntentRec["IntentRecognizer"]
        IntentOrch["IntentOrchestrator"]
        IntentReg["IntentRegistry"]
        IntentHandlers["Intent Handlers"]
        ContextMgr["ContextManager"]
    end
    
    subgraph DynLoadSys["Dynamic Loading System"]
        EntryPointsDisc["Entry-Points Discovery"]
        DynamicLoader["DynamicLoader"]
        ConfigFilter["Configuration Filter"]
    end
    
    subgraph InputOutput["Input Output"]
        InputMgr["InputManager"]
        OutputMgr["OutputManager"]
        IOSources["Input Output Sources"]
    end
    
    subgraph Configuration["Configuration"]
        ConfigMgr["ConfigManager"]
        TOML["config.toml"]
        ENV["Environment variables"]
        Validation["Pydantic validation"]
    end
    
    CLI --> AsyncCore
    WebAPI --> AsyncCore
    Vosk --> AsyncCore
    Settings --> AsyncCore
    
    AsyncCore --> CompMgr
    AsyncCore --> IntentOrch
    AsyncCore --> InputMgr
    AsyncCore --> OutputMgr
    AsyncCore --> Context
    AsyncCore --> Commands
    AsyncCore --> Timers
    
    CompMgr --> VoiceTrigger
    CompMgr --> ASRComp
    CompMgr --> TextProc
    CompMgr --> NLUComp
    CompMgr --> TTSComp
    CompMgr --> AudioComp
    CompMgr --> LLMComp
    CompMgr --> DynamicLoader
    
    IntentOrch --> IntentRec
    IntentOrch --> IntentReg
    IntentOrch --> IntentHandlers
    IntentOrch --> ContextMgr
    
    DynamicLoader --> EntryPointsDisc
    DynamicLoader --> ConfigFilter
    
    ConfigMgr --> TOML
    ConfigMgr --> ENV
    ConfigMgr --> Validation
    
    style AsyncCore fill:#e1f5fe,stroke:#01579b,stroke-width:3px
    style CompMgr fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    style IntentOrch fill:#fff3e0,stroke:#ef6c00,stroke-width:3px
    style DynamicLoader fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style ConfigMgr fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

```mermaid
graph TB
    subgraph EntryPointsCatalog["Entry-Points Catalog"]
        EP_TTS["TTS providers"]
        EP_Audio["Audio providers"]
        EP_ASR["ASR providers"]
        EP_LLM["LLM providers"]
        EP_VT["VoiceTrigger providers"]
    end
    
    subgraph ConfigFiltering["Configuration Filtering"]
        Config["config.toml"]
        EnabledTTS["TTS enabled providers"]
        EnabledAudio["Audio enabled providers"]
        EnabledASR["ASR enabled providers"]
    end
    
    subgraph DynamicLoading["Dynamic Loading"]
        Loader["DynamicLoader"]
        Filter["Provider Filter"]
        Cache["Provider Cache"]
    end
    
    subgraph ComponentCoords["Component Coordinators"]
        TTS_Comp["TTSComponent"]
        Audio_Comp["AudioComponent"]
        ASR_Comp["ASRComponent"]
        VT_Comp["VoiceTriggerComponent"]
    end
    
    EP_TTS --> Loader
    EP_Audio --> Loader
    EP_ASR --> Loader
    EP_LLM --> Loader
    EP_VT --> Loader
    
    Config --> EnabledTTS
    Config --> EnabledAudio
    Config --> EnabledASR
    
    EnabledTTS --> Filter
    EnabledAudio --> Filter
    EnabledASR --> Filter
    
    Loader --> Filter
    Filter --> Cache
    
    Cache --> TTS_Comp
    Cache --> Audio_Comp
    Cache --> ASR_Comp
    Cache --> VT_Comp
    
    style Loader fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style Filter fill:#f1f8e9,stroke:#689f38,stroke-width:2px
    style Cache fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
```

### –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ —Å —Å–∏—Å—Ç–µ–º–æ–π –∏–Ω—Ç–µ–Ω—Ç–æ–≤

```mermaid
sequenceDiagram
    participant User as User
    participant VT as Voice Trigger
    participant ASR as ASR Component
    participant TP as Text Processor
    participant NLU as NLU Component
    participant IO as Intent Orchestrator
    participant Handler as Intent Handler
    participant TTS as TTS Component
    participant Audio as Audio Output
    
    User->>VT: Voice command
    VT->>VT: Wake word detection
    VT->>ASR: Audio stream
    
    ASR->>ASR: Speech recognition
    ASR->>TP: Raw text
    
    TP->>TP: Text improvement
    TP->>NLU: Clean text
    
    NLU->>NLU: Intent recognition
    NLU->>IO: Intent + entities + confidence
    
    IO->>Handler: Execute intent
    Handler->>Handler: Business logic
    Handler->>IO: Intent result
    
    IO->>TTS: Response text
    TTS->>Audio: Audio response
    Audio->>User: Voice response
    
    Note over VT,Audio: Complete asynchronous pipeline v13.0.0
```

---

## üóÇÔ∏è –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ TOML

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```mermaid
graph TB
    subgraph ConfigSources["Configuration Sources"]
        CLI_Args["CLI Arguments"]
        ENV["Environment Variables"]
        TOML["Configuration File"]
        Defaults["Default Values"]
    end
    
    subgraph ConfigMgr["ConfigManager"]
        CM["Configuration Manager"]
        Parser["TOML JSON Parser"]
        Validator["Pydantic Validator"]
        Merger["Source Merger"]
    end
    
    subgraph ConfigStruct["Configuration Structure"]
        CoreConfig["CoreConfig"]
        ComponentConfig["ComponentConfig"]
        IntentConfig["IntentConfig"]
        AssetConfig["AssetConfig"]
    end
    
    CLI_Args --> CM
    ENV --> CM
    TOML --> CM
    Defaults --> CM
    
    CM --> Parser
    CM --> Validator
    CM --> Merger
    
    Merger --> CoreConfig
    CoreConfig --> ComponentConfig
    CoreConfig --> IntentConfig
    CoreConfig --> AssetConfig
    
    style CM fill:#fff3e0,stroke:#ef6c00,stroke-width:2px
    style Validator fill:#e8f5e8,stroke:#4caf50,stroke-width:2px
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ config.toml v13.0.0

```toml
# ============================================================
# –û–°–ù–û–í–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´
# ============================================================
[core]
name = "Irene"
version = "14.0.0"
debug = false
log_level = "INFO"
language = "ru-RU"

# ============================================================
# –£–ü–†–ê–í–õ–ï–ù–ò–ï –†–ï–°–£–†–°–ê–ú–ò
# ============================================================
[assets]
# –ö–æ—Ä–Ω–µ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π, –∫—ç—à–∞ –∏ –¥–∞–Ω–Ω—ã—Ö
# –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
# IRENE_MODELS_ROOT, IRENE_CACHE_ROOT
models_root = "./models"
cache_root = "./cache"
data_root = "./data"

# ============================================================
# –°–ò–°–¢–ï–ú–ê –ö–û–ú–ü–û–ù–ï–ù–¢–û–í
# ============================================================
[components]
# –í–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
voice_trigger = true
asr = true
text_processor = true
nlu = true
tts = true
audio_output = true
llm = true
web_api = false

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
auto_discover = true
discovery_paths = ["irene.components", "custom.components"]

# ============================================================
# –°–ò–°–¢–ï–ú–ê –ò–ù–¢–ï–ù–¢–û–í
# ============================================================
[intents]
enabled = true
confidence_threshold = 0.7
fallback_handler = "conversation"
max_history_turns = 10
session_timeout = 1800

# Intent handlers
[intents.handlers]
greetings = true
timer = true
weather = true
datetime = true
system = true
conversation = true

# ============================================================
# –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ö–û–ú–ü–û–ù–ï–ù–¢–û–í
# ============================================================

# Voice Trigger Configuration
[components.voice_trigger]
enabled = true
default_provider = "microwakeword"
wake_words = ["irene", "jarvis"]
threshold = 0.8

[components.voice_trigger.providers.microwakeword]
model_path = "./models/wake_word/irene_model.tflite"
feature_buffer_size = 49
detection_window_size = 3
num_mfcc_features = 40

# Text-to-Speech –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
[components.tts]
enabled = true
default_provider = "elevenlabs"
fallback_providers = ["console"]

[components.tts.providers.elevenlabs]
enabled = true
# API –∫–ª—é—á –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è: ELEVENLABS_API_KEY
voice = "Rachel"
model = "eleven_multilingual_v2"

[components.tts.providers.console]
enabled = true
color_output = true

# Audio –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
[components.audio]
enabled = true
default_provider = "sounddevice"

[components.audio.providers.sounddevice]
enabled = true
sample_rate = 44100
channels = 2

[components.audio.providers.console]
enabled = true
timing_simulation = false

# ASR –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
[components.asr]
enabled = true
default_provider = "whisper"

[components.asr.providers.whisper]
enabled = true
# API –∫–ª—é—á –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è: OPENAI_API_KEY
model = "whisper-1"
language = "ru"

# NLU Configuration
[components.nlu]
provider = "rule_based"
fallback_provider = "spacy"
confidence_threshold = 0.7

# LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
[components.llm]
enabled = true
default_provider = "openai"

[components.llm.providers.openai]
enabled = true
# API –∫–ª—é—á –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è: OPENAI_API_KEY
default_model = "gpt-4"
max_tokens = 150

# ============================================================
# –í–ï–ë-API –°–ï–†–í–ï–†
# ============================================================
[components.web]
host = "127.0.0.1"
port = 5003
cors_origins = ["*"]
enable_auth = false
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
export IRENE_COMPONENTS__WEB_PORT=8080
export IRENE_ASSETS__MODELS_ROOT=/opt/irene/models
export IRENE_CORE__DEBUG=true

# Intent system
export IRENE_INTENTS__ENABLED=true
export IRENE_INTENTS__CONFIDENCE_THRESHOLD=0.7

# Voice Trigger
export IRENE_COMPONENTS__VOICE_TRIGGER__ENABLED=true
export IRENE_COMPONENTS__VOICE_TRIGGER__DEFAULT_PROVIDER=microwakeword

# API –∫–ª—é—á–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
export ELEVENLABS_API_KEY=your_api_key
export OPENAI_API_KEY=your_api_key
export ANTHROPIC_API_KEY=your_api_key
```

---

## üèóÔ∏è –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–±–æ—Ä–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ entry-points

–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ entry-points –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ TOML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π.

```mermaid
graph LR
    subgraph SourceData["Source Data"]
        Config["config.toml"]
        EntryPointsCat["pyproject.toml"]
    end
    
    subgraph BuildAnalysis["Build Analysis"]
        Analyzer["Build Analyzer"]
        Mapper["Module Mapper"]
        Profiler["Build Profiler"]
    end
    
    subgraph BuildResults["Build Results"]
        Minimal["Minimal Build"]
        Docker["Docker Image"]
        Service["System Service"]
    end
    
    Config --> Analyzer
    EntryPointsCat --> Analyzer
    
    Analyzer --> Mapper
    Mapper --> Profiler
    
    Profiler --> Minimal
    Profiler --> Docker
    Profiler --> Service
    
    style Analyzer fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style Profiler fill:#f1f8e9,stroke:#689f38,stroke-width:2px
```

### –ü—Ä–æ—Ñ–∏–ª–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

#### 1. –ü–æ–ª–Ω–∞—è –≥–æ–ª–æ—Å–æ–≤–∞—è —Å–±–æ—Ä–∫–∞
```toml
# config-voice.toml
[components]
voice_trigger = true
asr = true
nlu = true
tts = true
audio_output = true

[intents]
enabled = true

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ–ª–æ—Å–æ–≤–æ–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç
```

#### 2. –í–µ–±-API —Å–µ—Ä–≤–µ—Ä
```toml
# config-webapi.toml
[components]
tts = true
asr = true
nlu = true

[components.web]
enabled = true
host = "0.0.0.0"
port = 8080

# –†–µ–∑—É–ª—å—Ç–∞—Ç: RESTful API —Å–µ—Ä–≤–µ—Ä —Å —Å–∏—Å—Ç–µ–º–æ–π –∏–Ω—Ç–µ–Ω—Ç–æ–≤
```

#### 3. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ (–∫–æ–Ω—Å–æ–ª—å–Ω–∞—è)
```toml
# config-minimal.toml
[components]
tts = true
nlu = true

[components.tts.providers.console]
enabled = true

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
git clone https://github.com/janvarev/Irene-Voice-Assistant.git
cd Irene-Voice-Assistant

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å uv (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
curl -LsSf https://astral.sh/uv/install.sh | sh
uv sync

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp config-example.toml config.toml
cp docs/env-example.txt .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ API –∫–ª—é—á–∞–º–∏

# –ó–∞–ø—É—Å–∫ –≤ CLI —Ä–µ–∂–∏–º–µ
uv run python -m irene.runners.cli

# –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
uv run python -m irene.runners.webapi_runner
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# CLI —Ä–µ–∂–∏–º - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å —Å —Å–∏—Å—Ç–µ–º–æ–π –∏–Ω—Ç–µ–Ω—Ç–æ–≤
uv run python -m irene.runners.cli

# –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –∏ –≤—ã—Ö–æ–¥
uv run python -m irene.runners.cli --command "–ø—Ä–∏–≤–µ—Ç"

# –í–µ–±-API —Å–µ—Ä–≤–µ—Ä —Å intent endpoints
uv run python -m irene.runners.webapi_runner

# –ì–æ–ª–æ—Å–æ–≤–æ–π —Ä–µ–∂–∏–º —Å VOSK
uv run python -m irene.runners.vosk_runner

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
uv run python -m irene.runners.settings_runner
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
uv run python -m irene.runners.cli --check-deps

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ñ–∏–ª–µ–π —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
uv run python -m irene.runners.cli --list-profiles

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ–Ω—Ç–æ–≤
uv run python -m irene.runners.cli --test-intents
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](docs/architecture.md)** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã v13.0.0
- **[TODO](docs/TODO.md)** - –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **[–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](config-example.md)** - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **[–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏](docs/ASSET_MANAGEMENT.md)** - –†–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—è–º–∏ –∏ –∫—ç—à–µ–º

---

## ü§ù –í–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è —É—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞! –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Ç–µ–Ω—Ç–æ–≤** - —É–ª—É—á—à–µ–Ω–∏–µ NLU –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤** –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–£–ª—É—á—à–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** –∏ –ø—Ä–∏–º–µ—Ä–æ–≤
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö

---

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v13.0.0 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ, –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≥–∏–±–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –æ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ CLI –¥–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å wake word detection –∏ –≤–µ–±-–¥–æ—Å—Ç—É–ø–æ–º.**
