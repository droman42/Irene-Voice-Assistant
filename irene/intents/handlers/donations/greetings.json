{
  "$schema": "../../schemas/donation/v1.0.json",
  "schema_version": "1.0",
  "handler_domain": "greeting",
  "description": "Greeting and farewell interactions with context-aware responses",
  
  "intent_name_patterns": [
    "greeting.hello",
    "greeting.goodbye", 
    "greeting.welcome"
  ],
  
  "action_patterns": [
    "hello",
    "goodbye", 
    "welcome",
    "greet"
  ],
  
  "domain_patterns": [
    "greetings"
  ],

  "global_parameters": [
    {
      "name": "language",
      "type": "choice",
      "required": false,
      "default_value": "ru",
      "choices": ["ru", "en"],
      "description": "Response language preference"
    }
  ],
  
  "method_donations": [
    {
      "method_name": "_handle_greeting",
      "intent_suffix": "hello",
      "description": "Handle hello and greeting messages",
      
      "phrases": [
        "привет", "здравствуй", "здравствуйте", "добро пожаловать",
        "приветствую", "рада видеть", "доброе утро", "добрый день",
        "добрый вечер", "hello", "hi", "hey", "greetings",
        "good morning", "good afternoon", "good evening", "how are you"
      ],
      
      "lemmas": ["привет", "здравствовать", "приветствовать", "добрый", "доброе", "утро", "день", "вечер"],
      
      "parameters": [
        {
          "name": "time_of_day",
          "type": "choice",
          "required": false,
          "choices": ["morning", "afternoon", "evening", "night"],
          "description": "Time-specific greeting",
          "extraction_patterns": [
            {"pattern": [{"LEMMA": {"IN": ["утро", "день", "вечер", "ночь"]}}], "label": "TIME_OF_DAY"},
            {"pattern": [{"LOWER": {"IN": ["morning", "afternoon", "evening", "night"]}}], "label": "TIME_OF_DAY"}
          ],
          "aliases": ["время"]
        }
      ],
      
      "token_patterns": [
        [{"LEMMA": {"IN": ["привет", "здравствовать", "приветствовать"]}}],
        [{"TEXT": {"REGEX": "hello|hi|hey"}}],
        [{"LEMMA": "добрый"}, {"LEMMA": {"IN": ["утро", "день", "вечер"]}}],
        [{"TEXT": "good"}, {"TEXT": {"REGEX": "morning|afternoon|evening"}}]
      ],
      
      "slot_patterns": {
        "TIME_OF_DAY": [
          [{"LEMMA": "добрый"}, {"LEMMA": {"IN": ["утро", "день", "вечер"]}}],
          [{"TEXT": "good"}, {"TEXT": {"REGEX": "morning|afternoon|evening"}}]
        ]
      },
      
      "examples": [
        {
          "text": "привет",
          "parameters": {}
        },
        {
          "text": "доброе утро",
          "parameters": {"time_of_day": "morning"}
        },
        {
          "text": "hello",
          "parameters": {}
        },
        {
          "text": "good evening",
          "parameters": {"time_of_day": "evening"}
        }
      ],
      
      "boost": 1.3
    },
    {
      "method_name": "_handle_farewell",
      "intent_suffix": "goodbye",
      "description": "Handle goodbye and farewell messages",
      
      "phrases": [
        "пока", "до свидания", "прощай", "бывай",
        "до встречи", "всего доброго", "goodbye", "bye",
        "farewell", "see you", "take care", "good luck"
      ],
      
      "lemmas": ["пока", "прощать", "свидание", "встреча", "добрый"],
      
      "parameters": [
        {
          "name": "return_time",
          "type": "string",
          "required": false,
          "description": "When planning to return",
          "extraction_patterns": [
            {"pattern": [{"LOWER": "до"}, {"IS_ALPHA": true}], "label": "RETURN_TIME"}
          ],
          "aliases": ["когда", "время"]
        }
      ],
      
      "token_patterns": [
        [{"LEMMA": {"IN": ["пока", "прощать"]}}],
        [{"TEXT": {"REGEX": "goodbye|bye|farewell"}}],
        [{"LEMMA": "до"}, {"LEMMA": {"IN": ["свидание", "встреча"]}}],
        [{"TEXT": "see"}, {"TEXT": "you"}],
        [{"TEXT": "take"}, {"TEXT": "care"}]
      ],
      
      "slot_patterns": {
        "RETURN_TIME": [
          [{"LOWER": "до"}, {"LEMMA": {"IN": ["встреча", "свидание"]}}],
          [{"TEXT": "see"}, {"TEXT": "you"}, {"TEXT": {"REGEX": "later|soon|tomorrow"}}]
        ]
      },
      
      "examples": [
        {
          "text": "пока",
          "parameters": {}
        },
        {
          "text": "до свидания",
          "parameters": {}
        },
        {
          "text": "goodbye",
          "parameters": {}
        },
        {
          "text": "see you later",
          "parameters": {"return_time": "later"}
        }
      ],
      
      "boost": 1.2
    },
    {
      "method_name": "_handle_welcome",
      "intent_suffix": "welcome",
      "description": "Handle welcome responses and acknowledgments",
      
      "phrases": [
        "добро пожаловать", "рад встрече", "приятно познакомиться",
        "welcome", "nice to meet you", "pleased to meet you",
        "glad to see you"
      ],
      
      "lemmas": ["добро", "пожаловать", "рад", "встреча", "познакомиться"],
      
      "parameters": [],
      
      "token_patterns": [
        [{"LEMMA": "добро"}, {"LEMMA": "пожаловать"}],
        [{"TEXT": "welcome"}],
        [{"TEXT": "nice"}, {"TEXT": "to"}, {"TEXT": "meet"}],
        [{"TEXT": "pleased"}, {"TEXT": "to"}, {"TEXT": "meet"}]
      ],
      
      "examples": [
        {
          "text": "добро пожаловать",
          "parameters": {}
        },
        {
          "text": "welcome",
          "parameters": {}
        },
        {
          "text": "nice to meet you",
          "parameters": {}
        }
      ],
      
      "boost": 1.1
    }
  ],
  
  "negative_patterns": [
    [{"LEMMA": {"IN": ["нет", "не"]}}, {"LEMMA": {"IN": ["привет", "пока"]}}],
    [{"TEXT": {"REGEX": "no|not"}}, {"TEXT": {"REGEX": "hello|goodbye"}}]
  ]
} 