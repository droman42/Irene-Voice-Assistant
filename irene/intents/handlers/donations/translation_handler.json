{
  "$schema": "../../schemas/donation/v1.0.json",
  "schema_version": "1.0",
  "donation_version": "1.0",
  "handler_domain": "translation",
  "description": "Text translation commands via LLM",
  "intent_name_patterns": [
    "translation.translate",
    "translation.specific",
    "llm.translate"
  ],
  "action_patterns": [
    "translate",
    "translation",
    "convert"
  ],
  "domain_patterns": [
    "translation",
    "language",
    "llm"
  ],
  "global_parameters": [
    {
      "name": "language",
      "type": "choice",
      "required": false,
      "default_value": "ru",
      "choices": [
        "ru",
        "en"
      ],
      "description": "Response language preference"
    }
  ],
  "method_donations": [
    {
      "method_name": "_handle_translate_text",
      "intent_suffix": "translate",
      "description": "Translate text using command parsing",
      "phrases": [
        "переведи",
        "переводи",
        "перевод",
        "translate",
        "translation",
        "переведи текст",
        "сделай перевод",
        "переведи на",
        "translate to",
        "переводить",
        "make translation",
        "convert to",
        "конвертируй",
        "переложи на",
        "перефразируй на",
        "измени язык"
      ],
      "lemmas": [
        "переводить",
        "перевод",
        "конвертировать",
        "переносить",
        "изменять",
        "язык"
      ],
      "parameters": [
        {
          "name": "text",
          "type": "string",
          "required": false,
          "description": "Text to translate (extracted from command)",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "LEMMA": "переводить"
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                }
              ],
              "label": "TEXT"
            },
            {
              "pattern": [
                {
                  "TEXT": "translate"
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                }
              ],
              "label": "TEXT"
            }
          ],
          "aliases": [
            "текст",
            "фраза",
            "слово"
          ]
        },
        {
          "name": "target_language",
          "type": "choice",
          "required": false,
          "default_value": "английский",
          "choices": [
            "русский",
            "английский",
            "spanish",
            "french",
            "german",
            "chinese"
          ],
          "description": "Target language for translation",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "TEXT": "на"
                },
                {
                  "LOWER": {
                    "IN": [
                      "русский",
                      "английский",
                      "испанский",
                      "французский",
                      "немецкий",
                      "китайский"
                    ]
                  }
                }
              ],
              "label": "TARGET_LANGUAGE"
            },
            {
              "pattern": [
                {
                  "TEXT": "to"
                },
                {
                  "LOWER": {
                    "IN": [
                      "russian",
                      "english",
                      "spanish",
                      "french",
                      "german",
                      "chinese"
                    ]
                  }
                }
              ],
              "label": "TARGET_LANGUAGE"
            }
          ],
          "aliases": [
            "язык",
            "на язык"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "LEMMA": "переводить"
          }
        ],
        [
          {
            "TEXT": "translate"
          }
        ],
        [
          {
            "LEMMA": "перевод"
          }
        ],
        [
          {
            "TEXT": "translation"
          }
        ],
        [
          {
            "LEMMA": "переводить"
          },
          {
            "IS_ALPHA": true,
            "OP": "+"
          }
        ],
        [
          {
            "TEXT": "translate"
          },
          {
            "IS_ALPHA": true,
            "OP": "+"
          }
        ]
      ],
      "slot_patterns": {
        "TEXT": [
          [
            {
              "LEMMA": "переводить"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ],
          [
            {
              "TEXT": "translate"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ],
        "TARGET_LANGUAGE": [
          [
            {
              "TEXT": "на"
            },
            {
              "LOWER": {
                "IN": [
                  "русский",
                  "английский",
                  "испанский",
                  "французский",
                  "немецкий",
                  "китайский"
                ]
              }
            }
          ],
          [
            {
              "TEXT": "to"
            },
            {
              "LOWER": {
                "IN": [
                  "russian",
                  "english",
                  "spanish",
                  "french",
                  "german",
                  "chinese"
                ]
              }
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "переведи hello world",
          "parameters": {
            "text": "hello world"
          }
        },
        {
          "text": "translate привет мир",
          "parameters": {
            "text": "привет мир"
          }
        },
        {
          "text": "переведи на английский",
          "parameters": {
            "target_language": "английский"
          }
        },
        {
          "text": "translate to russian",
          "parameters": {
            "target_language": "russian"
          }
        }
      ],
      "boost": 1.3
    },
    {
      "method_name": "_handle_translate_specific",
      "intent_suffix": "specific",
      "description": "Translate specific text with extracted entities",
      "phrases": [
        "переведи фразу",
        "переведи слово",
        "переведи текст на",
        "translate phrase",
        "translate word",
        "translate text to",
        "переведи 'текст' на",
        "translate 'text' to",
        "конвертируй в",
        "сделай перевод на",
        "make translation to",
        "переложи на язык"
      ],
      "lemmas": [
        "переводить",
        "фраза",
        "слово",
        "текст",
        "конвертировать"
      ],
      "parameters": [
        {
          "name": "text",
          "type": "string",
          "required": true,
          "description": "Specific text to translate",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "TEXT": "'"
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                },
                {
                  "TEXT": "'"
                }
              ],
              "label": "TEXT"
            },
            {
              "pattern": [
                {
                  "TEXT": "\""
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                },
                {
                  "TEXT": "\""
                }
              ],
              "label": "TEXT"
            },
            {
              "pattern": [
                {
                  "LEMMA": {
                    "IN": [
                      "фраза",
                      "слово",
                      "текст"
                    ]
                  }
                },
                {
                  "IS_ALPHA": true,
                  "OP": "+"
                }
              ],
              "label": "TEXT"
            }
          ],
          "aliases": [
            "фраза",
            "слово",
            "предложение"
          ]
        },
        {
          "name": "target_language",
          "type": "choice",
          "required": true,
          "choices": [
            "русский",
            "английский",
            "spanish",
            "french",
            "german",
            "chinese"
          ],
          "description": "Target language for specific translation",
          "extraction_patterns": [
            {
              "pattern": [
                {
                  "TEXT": "на"
                },
                {
                  "LOWER": {
                    "IN": [
                      "русский",
                      "английский",
                      "испанский",
                      "французский",
                      "немецкий",
                      "китайский"
                    ]
                  }
                }
              ],
              "label": "TARGET_LANGUAGE"
            },
            {
              "pattern": [
                {
                  "TEXT": "to"
                },
                {
                  "LOWER": {
                    "IN": [
                      "russian",
                      "english",
                      "spanish",
                      "french",
                      "german",
                      "chinese"
                    ]
                  }
                }
              ],
              "label": "TARGET_LANGUAGE"
            }
          ],
          "aliases": [
            "язык",
            "на язык",
            "в язык"
          ]
        }
      ],
      "token_patterns": [
        [
          {
            "LEMMA": "переводить"
          },
          {
            "LEMMA": {
              "IN": [
                "фраза",
                "слово",
                "текст"
              ]
            }
          },
          {
            "TEXT": "на"
          }
        ],
        [
          {
            "TEXT": "translate"
          },
          {
            "TEXT": {
              "IN": [
                "phrase",
                "word",
                "text"
              ]
            }
          },
          {
            "TEXT": "to"
          }
        ],
        [
          {
            "LEMMA": "переводить"
          },
          {
            "TEXT": "'"
          },
          {
            "IS_ALPHA": true,
            "OP": "+"
          },
          {
            "TEXT": "'"
          }
        ],
        [
          {
            "TEXT": "translate"
          },
          {
            "TEXT": "'"
          },
          {
            "IS_ALPHA": true,
            "OP": "+"
          },
          {
            "TEXT": "'"
          }
        ],
        [
          {
            "LEMMA": "конвертировать"
          },
          {
            "TEXT": "в"
          }
        ]
      ],
      "slot_patterns": {
        "TEXT": [
          [
            {
              "TEXT": "'"
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            },
            {
              "TEXT": "'"
            }
          ],
          [
            {
              "TEXT": "\""
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            },
            {
              "TEXT": "\""
            }
          ],
          [
            {
              "LEMMA": {
                "IN": [
                  "фраза",
                  "слово",
                  "текст"
                ]
              }
            },
            {
              "IS_ALPHA": true,
              "OP": "+"
            }
          ]
        ],
        "TARGET_LANGUAGE": [
          [
            {
              "TEXT": "на"
            },
            {
              "LOWER": {
                "IN": [
                  "русский",
                  "английский",
                  "испанский",
                  "французский",
                  "немецкий",
                  "китайский"
                ]
              }
            }
          ],
          [
            {
              "TEXT": "to"
            },
            {
              "LOWER": {
                "IN": [
                  "russian",
                  "english",
                  "spanish",
                  "french",
                  "german",
                  "chinese"
                ]
              }
            }
          ]
        ]
      },
      "examples": [
        {
          "text": "переведи 'hello world' на русский",
          "parameters": {
            "text": "hello world",
            "target_language": "русский"
          }
        },
        {
          "text": "translate 'привет мир' to english",
          "parameters": {
            "text": "привет мир",
            "target_language": "english"
          }
        },
        {
          "text": "переведи фразу good morning на русский",
          "parameters": {
            "text": "good morning",
            "target_language": "русский"
          }
        },
        {
          "text": "translate text спасибо to english",
          "parameters": {
            "text": "спасибо",
            "target_language": "english"
          }
        }
      ],
      "boost": 1.4
    }
  ],
  "negative_patterns": [
    [
      {
        "LEMMA": {
          "IN": [
            "нет",
            "не"
          ]
        }
      },
      {
        "LEMMA": {
          "IN": [
            "переводить",
            "перевод"
          ]
        }
      }
    ],
    [
      {
        "TEXT": {
          "REGEX": "no|not"
        }
      },
      {
        "TEXT": {
          "REGEX": "translate|translation"
        }
      }
    ]
  ]
}